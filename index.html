<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MIDI Scale Finder — detect the key of a MIDI file</title>
    <script src="Midi.js"></script>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <main class="page">
        <h1>Find the key/scale of a MIDI file (Major/Minor)</h1>
        <p class="muted">Drop a .mid/.midi file and get a best-guess tonic + Major/Minor.</p>

        <div id="dropzone" class="panel" role="button" tabindex="0" aria-label="Drop MIDI file here or click to select file">
            <div id="dropzoneContent">
                <div>Drop MIDI file here or click to choose</div>
                <div id="fileName" class="file-name hidden"></div>
            </div>
            <input type="file" id="fileInput" accept=".mid,.midi" style="display: none;" aria-label="Choose MIDI file">
        </div>
        <div id="output" class="hidden" aria-live="polite" role="region" aria-label="Analysis results"></div>

        <section class="panel" aria-labelledby="about-heading">
            <h2 id="about-heading">What this does</h2>
            <p>Analyzes MIDI files to determine their key/scale. For now, it only supports Major and Minor scales.</p>
            <h2>How results are shown</h2>
            <p>First you’ll see possible Major/Minor scales for the detected notes, ranked with the best guess highlighted. Open the “Why the best guess?” dropdown to see a simple explanation. Below that, you’ll see which notes were found in the MIDI and roughly how much of the song each note takes up.</p>
            <h2>What does "tonic" mean?</h2>
            <p>The tonic is the "home" note—the pitch everything feels drawn back to. Knowing the tonic tells you the song's key, so you know which chords and melodies fit naturally.</p>
        </section>
    </main>

    <footer class="footer" role="contentinfo">
        Open source - contributions welcome on <a href="https://github.com/hakonno/midi-scale-finder" target="_blank" rel="noopener noreferrer">GitHub</a>.
    </footer>

    <script type="module" src="./script.js"></script>
</body>
</html>